<odoo>
    <record id="buffalo_lunch_survey_form_base" model="ir.ui.view">
        <field name="name">survey.form.buffalo.base</field>
        <field name="model">survey.survey</field>
        <field name="active">False</field>
        <field name="arch" type="xml">
            <form string="Survey" class="o_survey_form" create="false">
                <field name="id" invisible="1"/>
                <field name="session_state" invisible="1"/>
                <field name="question_ids" invisible="1"/>
                <field name="session_available" invisible="1"/>
                <header>
                    <button name="action_send_survey" string="Share" type="object" class="oe_highlight" invisible="not active"/>
                    <button name="action_result_survey" string="See results" type="object" class="oe_highlight"
                      invisible="answer_done_count &lt;= 0"/>
                    <button name="action_test_survey" string="Test" type="object" invisible="not active or not question_ids"/>
                    <button name="action_unarchive" string="Reopen" class="btn-primary" type="object" invisible="active"/>
                    <button name="action_archive" string="Close Poll" type="object" invisible="not active"/>
                </header>
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button name="action_buffalo_survey_user_input"
                            type="object"
                            class="oe_stat_button"
                            invisible="access_mode == 'public'"
                            icon="fa-envelope-o">
                            <field string="Registered" name="answer_count" widget="statinfo"/>
                        </button>
                        <button name="action_buffalo_survey_user_input_completed"
                            type="object"
                            class="oe_stat_button"
                            icon="fa-check-square-o">
                            <field string="Participations" name="answer_done_count" widget="statinfo"/>
                        </button>
                    </div>
                    <widget name="web_ribbon" title="Poll Closed" bg_color="text-bg-danger" invisible="active"/>
                    <div class="oe_title" style="width: 100%;">
                        <h1>
                            <field name="title" options="{'line_breaks': False}" widget="text" placeholder="e.g. Monday"/>
                        </h1>
                    </div>
                    <group>
                        <group>
                            <field name="allowed_survey_types" invisible="1"/>
                            <field name="survey_type" invisible="1"/>
                            <field name="date_from" required="survey_type == 'lunch'" widget="date_range" options="{'end_date_field': 'date_end'}"/>
                            <field name="date_end" required="survey_type == 'lunch'" invisible="1"/>
                            <field name="user_id" domain="[('share', '=', False)]" widget="many2one_avatar_user"/>
                            <field name="restrict_user_ids" widget="many2many_tags_avatar"/>
                            <field name="active" invisible="1"/>
                            <field name="has_conditional_questions" invisible="1"/>
                        </group>
                    </group>
                    <notebook>
                        <page string="Days" name="Days">
                            <field name="question_and_page_ids" nolabel="1" mode="list,kanban" context="{'default_survey_id': id}">
                                <list decoration-bf="is_page"  editable="bottom">
                                    <field name="sequence" widget="handle" readonly="1"/>
                                    <field name="title" string="Day"/>
                                    <field name="product_ids" widget="many2many_tags" string="Menu!"/>
                                    <field name="lunch_survey_stats_text" />
                                </list>
                                 <form string="Survey Question" create="false" class="o_survey_question_view_form">
                                    <field name="is_placed_before_trigger" invisible="1"/>
                                    <field name="product_ids" widget="many2many_tags"/>
                                    <div class="alert alert-warning text-center" role="alert" invisible="not is_placed_before_trigger">
                                        ⚠️ This question is positioned before some or all of its triggers and could be skipped.
                                    </div>
                                    <field name="is_page" invisible="1"/>
                                    <field name="page_id" invisible="1" required="False"/>
                                    <field name="sequence" invisible="1"/>
                                    <field name="scoring_type" invisible="1"/>
                                    <field name="has_image_only_suggested_answer" invisible="1"/>
                                    <sheet>
                                        <field name="survey_id" invisible="not context.get('show_survey_field')" readonly="1"/>
                                        <div class="float-end d-flex flex-column text-center" invisible="not is_page">
                                            <label for="background_image"/>
                                            <field name="background_image" widget="image" class="oe_avatar"/>
                                        </div>
                                        <div class="oe_title" style="width: 100%;">
                                            <label for="title" string="Section" invisible="not is_page"/>
                                            <label for="title" string="Question" invisible="is_page"/><br/>
                                            <field name="title" placeholder="e.g. &quot;What is the...&quot;" colspan="4"/>
                                            <field name="questions_selection" invisible="1"/>
                                            <field name="date"/>
                                        </div>
                                        <group class="o_label_nowrap" invisible="not is_page or questions_selection == 'all'">
                                            <field name="random_questions_count"/>
                                        </group>
                                        <group invisible="is_page">
                                            <group>
                                                <field name="question_type" widget="radio" required="not is_page" />
                                            </group>
                                            <group>
                                                <div class="mx-lg-auto w-lg-50 d-none d-sm-block o_preview_questions bg-light" colspan="2">
                                                    <!-- Multiple choice: only one answer -->
                                                    <div invisible="question_type != 'simple_choice'" role="img" aria-label="Multiple choice with one answer"
                                                        title="Multiple choice with one answer">
                                                        <span>Which is yellow?</span><br/>
                                                        <div class="o_preview_questions_choice mb-2"><i class="fa fa-circle-o  fa-lg me-2"/>answer</div>
                                                        <div class="o_preview_questions_choice mb-2"><i class="fa fa-dot-circle-o fa-lg me-2"/>answer</div>
                                                        <div class="o_preview_questions_choice"><i class="fa fa-circle-o  fa-lg me-2"/>answer</div>
                                                    </div>
                                                    <!-- Multiple choice: multiple answers allowed -->
                                                    <div invisible="question_type != 'multiple_choice'" role="img" aria-label="Multiple choice with multiple answers"
                                                        title="Multiple choice with multiple answers">
                                                        <span>Which are yellow?</span><br/>
                                                        <div class="o_preview_questions_choice mb-2"><i class="fa fa-square-o fa-lg me-2"/>answer</div>
                                                        <div class="o_preview_questions_choice mb-2"><i class="fa fa-check-square-o fa-lg me-2"/>answer</div>
                                                        <div class="o_preview_questions_choice"><i class="fa fa-check-square-o fa-lg me-2"/>answer</div>
                                                    </div>
                                                    <!-- Multiple Lines Text Zone -->
                                                    <div invisible="question_type != 'text_box'">
                                                        <span>Name all the animals</span><br/>
                                                        <i class="fa fa-align-justify fa-4x" role="img" aria-label="Multiple lines" title="Multiple Lines"/>
                                                    </div>
                                                    <!-- Single Line Text Zone -->
                                                    <div invisible="question_type != 'char_box'">
                                                        <span>Name one animal</span><br/>
                                                        <i class="fa fa-minus fa-4x" role="img" aria-label="Single Line" title="Single Line"/>
                                                    </div>
                                                    <!-- Numerical Value -->
                                                    <div invisible="question_type != 'numerical_box'">
                                                        <span>How many ...?</span><br/>
                                                        <i class="fa fa-2x" role="img" aria-label="Numeric" title="Numeric">123&#160;</i>
                                                        <i class="fa fa-2x fa-sort" role="img" aria-label="Numeric"/>
                                                    </div>
                                                    <!-- Date -->
                                                    <div invisible="question_type != 'date'">
                                                        <span>When is Christmas?</span><br/>
                                                        <p class="o_datetime border-0" >YYYY-MM-DD
                                                            <i class="fa fa-calendar" role="img" aria-label="Calendar" title="Calendar"/>
                                                        </p>
                                                    </div>
                                                    <!-- Date and Time -->
                                                    <div invisible="question_type != 'datetime'">
                                                        <span>When does ... start?</span><br/>
                                                        <p class="o_datetime border-0">YYYY-MM-DD hh:mm:ss
                                                            <i class="fa fa-calendar" role="img" aria-label="Calendar" title="Calendar"/>
                                                        </p>
                                                    </div>
                                                    <!-- Matrix -->
                                                    <div invisible="question_type != 'matrix'">
                                                        <div class="row o_matrix_head">
                                                            <div class="col-3"></div>
                                                            <div class="col-3">ans</div>
                                                            <div class="col-3">ans</div>
                                                            <div class="col-3">ans</div>
                                                        </div>
                                                        <div class="row o_matrix_row">
                                                            <div class="col-3">Row1</div>
                                                            <div class="col-3"><i class="fa fa-circle-o fa-lg" role="img" aria-label="Not checked" title="Not checked"/></div>
                                                            <div class="col-3"><i class="fa fa-dot-circle-o fa-lg" role="img" aria-label="Checked" title="Checked"/></div>
                                                            <div class="col-3"><i class="fa fa-circle-o fa-lg" role="img" aria-label="Not checked" title="Not checked"/></div>
                                                        </div>
                                                        <div class="row o_matrix_row">
                                                            <div class="col-3">Row2</div>
                                                            <div class="col-3"><i class="fa fa-circle-o fa-lg" role="img" aria-label="Not checked" title="Not checked"/></div>
                                                            <div class="col-3"><i class="fa fa-circle-o fa-lg" role="img" aria-label="Not checked" title="Not checked"/></div>
                                                            <div class="col-3"><i class="fa fa-dot-circle-o fa-lg" role="img" aria-label="Checked" title="Checked"/></div>
                                                        </div>
                                                        <div class="row o_matrix_row">
                                                            <div class="col-3">Row3</div>
                                                            <div class="col-3"><i class="fa fa-dot-circle-o fa-lg" role="img" aria-label="Checked" title="Checked"/></div>
                                                            <div class="col-3"><i class="fa fa-circle-o fa-lg" role="img" aria-label="Not checked" title="Not checked"/></div>
                                                            <div class="col-3"><i class="fa fa-circle-o fa-lg" role="img" aria-label="Not checked" title="Not checked"/></div>
                                                        </div>
                                                    </div>
                                                    <!-- Scale -->
                                                    <div invisible="question_type != 'scale'">
                                                        <span>Do you like it?</span><br/>
                                                        <div class="btn-group w-100" role="group" aria-label="Scale">
                                                            <a role="button" type="button" class="btn btn-secondary disabled o_preview_questions_choice">1</a>
                                                            <a role="button" type="button" class="btn btn-secondary disabled o_preview_questions_choice">2</a>
                                                            <a role="button" type="button" class="btn btn-secondary disabled o_preview_questions_choice">3</a>
                                                        </div>
                                                        <div class="d-flex justify-content-between">
                                                            <div>Label</div>
                                                            <div>Label</div>
                                                            <div>Label</div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </group>
                                        </group>
                                        <notebook>
                                            <page string="Answers" name="answers" invisible="is_page or question_type == 'text_box' or scoring_type == 'no_scoring' and question_type in ['numerical_box', 'date', 'datetime']">
                                                <group>
                                                    <group invisible="question_type != 'scale'">
                                                        <field name="scale_min" placeholder="Scale Minimum Value (0 to 10)"/>
                                                        <field name="scale_max" placeholder="Scale Maximum Value (0 to 10)"/>
                                                    </group>
                                                    <group invisible="question_type != 'scale'">
                                                        <field name="scale_min_label" placeholder="Not likely at all"/>
                                                        <field name="scale_mid_label" placeholder="Neutral"/>
                                                        <field name="scale_max_label" placeholder="Extremely likely"/>
                                                    </group>
                                                    <group invisible="question_type not in ['char_box', 'numerical_box', 'date', 'datetime']">
                                                        <field name="answer_numerical_box" string="Correct Answer" class="oe_inline"
                                                            invisible="question_type != 'numerical_box'"
                                                            required="is_scored_question and question_type == 'numerical_box'" />
                                                        <field name="answer_date" string="Correct Answer"  class="oe_inline"
                                                            invisible="question_type != 'date'"
                                                            required="is_scored_question and question_type == 'date'"/>
                                                        <field name="answer_datetime" string="Correct Answer" class="oe_inline"
                                                            invisible="question_type != 'datetime'"
                                                            required="is_scored_question and question_type == 'datetime'"/>

                                                        <field name="validation_email" invisible="question_type != 'char_box'"/>
                                                        <field name="save_as_email" invisible="not validation_email or question_type != 'char_box'"/>
                                                        <field name="save_as_nickname" invisible="question_type != 'char_box'"/>
                                                    </group>

                                                    <group invisible="scoring_type == 'no_scoring' or question_type not in ['numerical_box', 'date', 'datetime']">
                                                        <label for="is_scored_question"/>
                                                        <div name="survey_scored_question">
                                                            <field name="is_scored_question" nolabel="1"/>
                                                            <field name="answer_score" class="w-50 mx-2" invisible="not is_scored_question" nolabel="1"/>
                                                            <span invisible="not is_scored_question">Points</span>
                                                        </div>
                                                    </group>
                                                </group>
                                                <field name="suggested_answer_ids" context="{'default_question_id': id}" invisible="question_type not in ['simple_choice', 'multiple_choice', 'matrix']">
                                                    <list editable="bottom">
                                                        <field name="sequence" widget="handle"/>
                                                        <field name="value" string="Choices" required="not value_image"/>
                                                        <field name="is_correct"
                                                            column_invisible="parent.scoring_type == 'no_scoring' or parent.question_type == 'matrix'"/>
                                                        <field name="answer_score"
                                                            column_invisible="parent.scoring_type == 'no_scoring' or parent.question_type == 'matrix'"/>
                                                        <field name="value_image_filename" column_invisible="not parent.has_image_only_suggested_answer"/>
                                                        <field name="value_image" width="200px" filename="value_image_filename" options="{'accepted_file_extensions': 'image/*'}"
                                                            column_invisible="parent.question_type in ['matrix', 'scale']" required="not value"/>
                                                    </list>
                                                </field>

                                                <field name="matrix_row_ids" context="{'default_matrix_question_id': id}"
                                                    invisible="question_type != 'matrix'">
                                                    <list editable="bottom">
                                                        <field name="sequence" widget="handle"/>
                                                        <field name="value" string="Rows"/>
                                                    </list>
                                                </field>
                                            </page>
                                            <page string="Description" name="survey_description">
                                                <field name="description" widget="html"
                                                    options="{'embedded_components': false}"
                                                    placeholder="e.g. Guidelines, instructions, picture, ... to help attendees answer"/>
                                            </page>
                                            <page string="Options" name="options" invisible="is_page">
                                                <group>
                                                    <group string="Answers" invisible="question_type == 'scale'">
                                                        <!-- Global validation setting -->
                                                        <field name="validation_required"
                                                            invisible="question_type not in ['char_box', 'numerical_box', 'date', 'datetime']"/>
                                                        <div class="o_wrap_label o_form_label" invisible="not validation_required">Min/Max Limits</div>
                                                        <div class="o_survey_question_validation_parameters" invisible="not validation_required">
                                                            <!-- Minima -->
                                                            <field name="validation_length_min" class="o_survey_question_validation_inline" nolabel="1" placeholder="Minimum"
                                                                invisible="question_type != 'char_box'"
                                                                required="validation_required and question_type == 'char_box'"/>
                                                            <field name="validation_min_float_value" class="o_survey_question_validation_inline" nolabel="1" placeholder="Minimum"
                                                                invisible="question_type != 'numerical_box'"
                                                                required="validation_required and question_type == 'numerical_box'"/>
                                                            <field name="validation_min_date" nolabel="1" placeholder="Minimum"
                                                                invisible="question_type != 'date'"
                                                                required="validation_required and question_type == 'date' and not validation_max_date"/>
                                                            <field name="validation_min_datetime" nolabel="1" placeholder="Minimum"
                                                                invisible="question_type != 'datetime'"
                                                                required="validation_required and question_type == 'datetime' and not validation_max_datetime"/>

                                                            <i class="fa fa-long-arrow-right mx-2" aria-label="Arrow icon" title="Arrow"/>
                                                            <!-- Maxima -->
                                                            <field name="validation_length_max" class="o_survey_question_validation_inline" nolabel="1" placeholder="Maximum"
                                                                invisible="question_type != 'char_box'"
                                                                required="validation_required and question_type == 'char_box'"/>
                                                            <field name="validation_max_float_value" class="o_survey_question_validation_inline" nolabel="1" placeholder="Maximum"
                                                                invisible="question_type != 'numerical_box'"
                                                                required="validation_required and question_type == 'numerical_box'"/>
                                                            <field name="validation_max_date" nolabel="1" placeholder="Maximum"
                                                                invisible="question_type != 'date'"
                                                                required="validation_required and question_type == 'date' and not validation_min_date"/>
                                                            <field name="validation_max_datetime" nolabel="1" placeholder="Maximum"
                                                                invisible="question_type != 'datetime'"
                                                                required="validation_required and question_type == 'datetime' and not validation_min_datetime"/>
                                                        </div>
                                                        <field name="validation_error_msg" invisible="not validation_required"
                                                            placeholder="Displayed when the answer entered is not valid."/>

                                                        <field name="matrix_subtype" invisible="question_type != 'matrix'" required="question_type == 'matrix'"/>
                                                        <field name="question_placeholder"
                                                            invisible="question_type not in ['text_box', 'char_box', 'date', 'datetime', 'numerical_box']"
                                                            placeholder="Help Participants know what to write"/>
                                                        <field name="comments_allowed" invisible="question_type not in ['simple_choice', 'multiple_choice', 'matrix']"/>
                                                        <field name="comments_message"
                                                            invisible="question_type not in ['simple_choice', 'multiple_choice', 'matrix'] or not comments_allowed"
                                                            placeholder="If other, please specify:"/>
                                                        <field name='comment_count_as_answer'
                                                            invisible="question_type not in ['simple_choice', 'multiple_choice', 'matrix'] or not comments_allowed"/>
                                                    </group>
                                                    <group string="Conditional display">
                                                        <p class="text-muted" colspan="2" invisible="questions_selection == 'all'">
                                                            Conditional display is not available when questions are randomly picked.
                                                        </p>
                                                        <field name="allowed_triggering_question_ids" invisible="1"/>
                                                        <field name="triggering_answer_ids" widget="many2many_tags" options="{'no_open': True, 'no_create': True}"
                                                            domain="[('question_id', 'in', allowed_triggering_question_ids)]"
                                                            invisible="questions_selection == 'random'"
                                                            placeholder="Optional previous answers required"
                                                        />
                                                    </group>
                                                </group>
                                                <group>
                                                    <group string="Constraints">
                                                        <field name="constr_mandatory" string="Mandatory Answer"/>
                                                        <field name="constr_error_msg"
                                                            invisible="not constr_mandatory"
                                                            placeholder="This question requires an answer."/>
                                                    </group>
                                                    <group string="Live Sessions">
                                                        <field name="is_time_customized" invisible="True"/>
                                                        <field name="session_available" invisible="True"/>
                                                        <p class="text-muted" colspan="2" invisible="session_available">
                                                            Time limits are only available for Live Sessions.
                                                        </p>
                                                        <label for="is_time_limited" string="Time Limit (seconds)" invisible="not session_available"/>
                                                        <div invisible="not session_available">
                                                            <field name="is_time_limited" nolabel="1" class="oe_inline"
                                                                widget="boolean_update_flag"
                                                                options="{'flagFieldName': 'is_time_customized'}"
                                                                context="{'referenceValue': parent.session_speed_rating}"/>
                                                            <field name="time_limit" nolabel="1" class="oe_inline"
                                                                widget="integer_update_flag"
                                                                options="{'flagFieldName': 'is_time_customized'}"
                                                                context="{'referenceValue': parent.session_speed_rating_time_limit}"
                                                                invisible="not is_time_limited" />
                                                        </div>
                                                    </group>
                                                </group>
                                            </page>
                                        </notebook>
                                    </sheet>
                                </form>
                            </field>
                        </page>
                        <page string="Options" name="options">
                            <group name="options">
                                <group string="Questions" name="questions">
                                    <field name="questions_layout" widget="radio" force_save="1"
                                           readonly="session_state in ['ready', 'in_progress'] or survey_type == 'live_session'"/>
                                    <field name="progression_mode" widget="radio"
                                           invisible="questions_layout == 'one_page' or survey_type == 'live_session'"/>
                                    <field name="questions_selection" widget="radio"
                                           invisible="survey_type == 'live_session'"/>
                                    <field name="users_can_go_back" string="Allow Roaming"
                                           invisible="questions_layout == 'one_page' or survey_type == 'live_session'"/>
                                </group>
                                <group string="Participants" name="participants">
                                    <field name="access_mode" force_save="1"
                                           readonly="survey_type == 'live_session'"/>
                                    <field name="users_login_required"/>
                                    <label for="is_attempts_limited" string="Limit Attempts"
                                           invisible="survey_type == 'live_session' or access_mode == 'public' and not users_login_required"/>
                                    <div class="o_checkbox_optional_field"
                                        invisible="survey_type == 'live_session' or access_mode == 'public' and not users_login_required">
                                        <field name="is_attempts_limited" nolabel="1"/>
                                        <div invisible="not is_attempts_limited">
                                            to <field name="attempts_limit" nolabel="1" class="oe_inline"/> attempts
                                        </div>
                                    </div>
                                </group>
                                <group string="Time &amp; Scoring" name="scoring" invisible="survey_type == 'survey'">
                                    <!-- Time -->
                                    <label for="is_time_limited" string="Survey Time Limit"
                                           invisible="survey_type == 'live_session'"/>
                                    <div class="o_checkbox_optional_field" name="is_time_limited"
                                         invisible="survey_type == 'live_session'">
                                        <field name="is_time_limited" nolabel="1"/>
                                        <div invisible="not is_time_limited">
                                            <field name="time_limit" widget="float_time" nolabel="1" class="oe_inline"/> minutes
                                        </div>
                                    </div>
                                    <!-- Scoring -->
                                    <field name="scoring_type" widget="radio" force_save="1"/>
                                    <field name="scoring_success_min" invisible="scoring_type == 'no_scoring'" />
                                    <label for="certification"
                                           invisible="survey_type == 'live_session' or scoring_type == 'no_scoring'"/>
                                    <div class="o_checkbox_optional_field" name="certification"
                                         invisible="survey_type == 'live_session'">
                                        <field name="certification" invisible="scoring_type == 'no_scoring'"/>
                                        <div invisible="not certification" class="w-100">
                                            <field name="certification_report_layout" placeholder="Pick a Style..." class="w-50"/>
                                            <button name="action_survey_preview_certification_template"
                                                string="Preview" type="object"
                                                icon="fa-external-link"  target="_blank" class="btn-link pt-0"/>
                                        </div>
                                    </div>
                                    <field name="certification_mail_template_id"
                                        placeholder="Pick a Template..."
                                        invisible="not certification"/>
                                    <label for="certification_give_badge"
                                           invisible="not certification or not users_login_required"/>
                                    <div class="float-start o_checkbox_optional_field"
                                        invisible="not certification or not users_login_required">
                                        <field name="certification_give_badge"/>
                                        <div invisible="not certification_give_badge">
                                            <field name="certification_badge_id"
                                                placeholder="Pick a Badge..."
                                                invisible="not certification_give_badge or certification_badge_id"
                                                required="certification_give_badge"
                                                domain="[('survey_id', '=', id), ('survey_id', '!=', False)]"
                                                context="{'default_name': title,
                                                        'default_description': 'Congratulations, you have succeeded this certification',
                                                        'default_rule_auth': 'nobody',
                                                        'default_level': None,
                                                        'form_view_ref': 'survey.gamification_badge_form_view_simplified'}"/>
                                            <field name="certification_badge_id_dummy" invisible="not certification_give_badge or not certification_badge_id"
                                                placeholder="Pick a Badge..."
                                                options="{'no_create': True}"
                                                context="{'form_view_ref': 'survey.gamification_badge_form_view_simplified'}"/>
                                        </div>
                                    </div>
                                </group>
                                <group string="Live Session" name="live_session" invisible="not session_available">
                                    <field name="access_token" invisible="1"/>  <!-- dependency of 'session_code' -->
                                    <field name="session_code" />
                                    <field name="session_link" widget="CopyClipboardChar" />
                                    <field name="session_speed_rating" invisible="scoring_type == 'no_scoring'" />
                                    <field name="session_speed_rating_time_limit" invisible="scoring_type == 'no_scoring' or not session_speed_rating" />
                                </group>
                            </group>
                        </page>
                        <page string="Description" name="description">
                            <field name="description" placeholder="e.g. &quot;The following Survey will help us...&quot;" nolabel="1"></field>
                        </page>
                        <page string="End Message" name="description_done">
                            <field name="description_done" placeholder="e.g. &quot;Thank you very much for your feedback!&quot;" nolabel="1"></field>
                        </page>
                    </notebook>
                </sheet>
                <chatter/>
            </form>
        </field>
    </record>

    <record id="buffalo_lunch_survey_kanban_base" model="ir.ui.view">
        <field name="name">survey.kanban.buffalo.base</field>
        <field name="model">survey.survey</field>
        <field name="arch" type="xml">
            <kanban highlight_color="color" create="false" js_class="buffalo_survey_view_kanban">
                <field name="active"/>
                <field name="certification"/>
                <field name="create_date"/>
                <field name="scoring_type"/>
                <field name="session_state"/>
                <field name="session_available"/>
                <templates>
                        <div t-name="menu" t-if="widget.editable">
                            <a role="menuitem" type="open" class="dropdown-item">Edit Survey</a>
                            <a t-if="record.active.raw_value" role="menuitem" type="object" class="dropdown-item" name="action_send_survey">Share</a>
                            <a t-if="widget.deletable" role="menuitem" type="delete" class="dropdown-item">Delete</a>
                            <div role="separator" class="dropdown-divider"/>
                            <div role="separator" class="dropdown-item-text">Color</div>
                            <field name="color" widget="kanban_color_picker"/>
                        </div>
                        <div t-name="card"
                            t-attf-class="o_survey_kanban_card #{record.certification.raw_value ? 'o_survey_kanban_card_certification' : ''}" class="px-0">
                            <!-- displayed in ungrouped mode -->
                            <div class="o_survey_kanban_card_ungrouped row mx-4">
                                <widget name="web_ribbon" title="Archived" bg_color="text-bg-danger" invisible="active"/>
                                <div class="col-lg-2 col-sm-8 py-0 my-2 my-lg-0 col-12 g-0">
                                    <div class="d-flex flex-grow-1 flex-column my-0 my-lg-2">
                                        <field name="title" class="fw-bold"/>
                                        <span t-if="!selection_mode" class="d-flex align-items-center">
                                            <field name="user_id" widget="many2one_avatar_user"
                                                options="{'display_avatar_name': True}"/>
                                                <span class="mx-1">-</span>
                                            <t t-esc="luxon.DateTime.fromISO(record.create_date.raw_value).toFormat('MMM yyyy')"/>
                                        </span>
                                    </div>
                                </div>
                                <div t-if="!selection_mode" class="col-lg-1 col-sm-4 col-6 py-0 my-2">
                                    <a type="object"
                                    name="action_buffalo_survey_user_input"
                                    class="fw-bold">
                                        <field name="answer_count"/><br />
                                        <span class="text-muted">Registered</span>
                                    </a>
                                </div>
                                <div t-if="!selection_mode" class="col-lg-1 col-sm-4 col-6 d-none d-sm-block py-0 my-2">
                                    <a type="object"
                                    name="action_buffalo_survey_user_input_completed"
                                    class="fw-bold">
                                        <field name="answer_done_count"/><br />
                                        <span class="text-muted">Completed</span>
                                    </a>
                                </div>
                                <div t-if="!selection_mode" class="col-lg-3 col-sm-12 d-none d-sm-flex justify-content-end gap-1 my-2 ms-auto pb-lg-3 py-0">
                                    <button name="action_send_survey"
                                            string="Share" type="object"
                                            class="btn btn-secondary text-nowrap"
                                            invisible="not active">
                                        Share
                                    </button>
                                    <button name="action_test_survey"
                                            string="Test" type="object"
                                            class="btn btn-secondary text-nowrap"
                                            invisible="not active">
                                        Test
                                    </button>
                                    <button name="action_result_survey"
                                            string="See results" type="object"
                                            class="btn btn-secondary"
                                            invisible="not active">
                                        See results
                                    </button>
                                </div>
                            </div>
                            <!-- displayed in grouped mode -->
                            <div class="o_survey_kanban_card_grouped px-1">
                                <widget name="web_ribbon" title="Poll Closed" bg_color="text-bg-danger" invisible="active"/>
                                <field name="title" class="fw-bold mb-1 fs-5 mb-1"/>
                                <div class="row g-0">
                                    <div class="col-10 p-0 pb-1" t-if="record.answer_count.raw_value != 0">
                                        <div class="row mt-4 ms-2">
                                            <div class="col-4 p-0">
                                                <a name="action_buffalo_survey_user_input" type="object" class="d-flex flex-column align-items-center">
                                                    <field name="answer_count" class="fw-bold"/>
                                                    <span class="text-break text-muted">Registered</span>
                                                </a>
                                            </div>
                                            <div class="col-4 p-0 border-start">
                                                <a name="action_buffalo_survey_user_input_completed" type="object" class="d-flex flex-column align-items-center">
                                                    <field name="answer_done_count" class="fw-bold"/>
                                                    <span class="text-break text-muted">Completed</span>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- Generic -->
                            <div  t-if="!selection_mode" class="o_survey_kanban_card_bottom">
                                <field name="activity_ids" widget="kanban_activity"/>
                            </div>
                        </div>
                    </templates>
            </kanban>
        </field>
    </record>

    <!-- List View Inherit for Survey -->
    <record id="buffalo_lunch_survey_list_base" model="ir.ui.view">
        <field name="name">survey.list.buffalo.base</field>
        <field name="model">survey.survey</field>
        <field name="mode">primary</field>
        <field name="inherit_id" ref="survey.survey_survey_view_tree"/>
        <field name="arch" type="xml">
            <xpath expr="//list" position="attributes">
                <attribute name="string">Base Survey List</attribute>
                <attribute name="create">false</attribute>
                <attribute name="js_class">buffalo_lunch_list</attribute>
            </xpath>
        </field>
    </record>

    <record id="buffalo_lunch_survey_calendar_base" model="ir.ui.view">
        <field name="name">survey.calendar.buffalo.base</field>
        <field name="model">survey.survey</field>
        <field name="mode">primary</field>
        
        <field name="arch" type="xml">
            <calendar string="Calendar View" create = "0" quick_create="0" date_start="date_from" date_stop="date_end">
                <field name="display_name" filters="1"/>
            </calendar>
        </field>
    </record>

    <!-- Actions for custom base survey views -->
    <record id="action_buffalo_lunch_survey_form_base" model="ir.actions.act_window">
        <field name="name">Base Survey (Form)</field>
        <field name="res_model">survey.survey</field>
        <field name="view_mode">form</field>
        <field name="view_id" ref="buffalo_lunch_survey_form_base"/>
        <field name="target">current</field>
    </record>

    <record id="action_buffalo_lunch_survey_kanban_base" model="ir.actions.act_window">
        <field name="name">Base Survey</field>
        <field name="res_model">survey.survey</field>
        <field name="view_mode">kanban,list,calendar,form</field>
        <field name="view_ids" eval="[(5, 0, 0),
            (0, 0, {'view_mode': 'kanban', 'view_id': ref('buffalo_lunch_survey_kanban_base')}),
            (0, 0, {'view_mode': 'list', 'view_id': ref('buffalo_lunch_survey_list_base')}),
            (0, 0, {'view_mode': 'calendar', 'view_id': ref('buffalo_lunch_survey_calendar_base')}),
            (0, 0, {'view_mode': 'form', 'view_id': ref('buffalo_lunch_survey_form_base')})
        ]"/>
        <field name="context">{'buffalo_lunch': True, 'active_test': False}</field>
        <field name="domain">[['survey_type','=', 'lunch']]</field>
        <field name="search_view_id" ref="survey.survey_survey_view_search"/>
        <field name="target">current</field>
    </record>
    

    <!-- Main menu -->
    <menuitem id="menu_buffalo_lunch_root" name="Buffalo Lunch Survey" sequence="10"/>
    <!-- Submenus -->
    <menuitem id="menu_buffalo_lunch_survey_list_base" name="Base Survey List" parent="menu_buffalo_lunch_root" action="action_buffalo_lunch_survey_kanban_base" sequence="1"/>
</odoo>
